---
layout: post
title:  cf1802g
date:   2023-03-18 16:10:46 +0800
categories: CF
---

### 暴力

遍历并集中维护区间之积。

### 快暴力

重链剖分，在链上二分查找要执行并集的位置。使用哈希检查。

### 生成法

构造log(n)层虚图，k号图v点代表v向上2^k长的路。每次更新从高层图开始连边，
重复则跳过，到达0层实图时执行并集操作。易证虚图边数与n,q为线性关系。

即复杂度为线性、并集的Ackerman数、查重边的复杂度，三者之积。
